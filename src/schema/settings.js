"use strict";module.exports = validate30;module.exports.default = validate30;const schema42 = {"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"settings","$defs":{"flag":{"type":"boolean"}},"type":"object","required":["timestamp","production","id","format","archive","services","cover","book","misc","tweaks","flags"],"properties":{"timestamp":{"type":"integer","default":0,"description":"Timestamp when these settings were saved"},"production":{"type":"boolean","default":true,"description":"Whether FicLab is running in production mode"},"id":{"type":"string","default":"","description":"Client ID"},"format":{"type":"string","description":"Output file format","enum":["epub","mobi","pdf","md","txt","flb","docx","image","html","txt-tts"],"default":"epub"},"archive":{"type":"boolean","description":"Whether to participate in the archive project","default":false},"services":{"type":"object","description":"Service API endpoints","default":{},"required":["transcode"],"properties":{"transcode":{"type":"string","description":"Transcode API endpoint","default":"wss://transcode.ficlab.com/1"},"archive":{"type":"string","description":"Archive project API endpoint","default":"wss://archive.l.ficlab.com:4443/v1"}}},"cover":{"type":"object","description":"Cover image configuration","default":{},"required":["scheme","crop","dark","logo","title","enable","custom"],"properties":{"scheme":{"type":"string","default":"auto","description":"Colour scheme","enum":["auto","red","orange","yellow","green","blue","purple","pink","brown","grey","black","clear"]},"crop":{"type":"string","default":"auto","description":"Cropping mode for the supplied story image","enum":["auto","on","off","fill"]},"dark":{"type":"boolean","default":false,"description":"Whether to use darker scheme colours"},"logo":{"type":"boolean","default":true,"description":"Whether to include the publisher logo on the cover"},"title":{"type":"boolean","default":true,"description":"Whether to render the title bar"},"enable":{"type":"boolean","default":true,"description":"Whether to generate a cover image at all"},"custom":{"type":"string","default":"","description":"Custom cover image"}}},"book":{"type":"object","default":{},"description":"Book configuration","required":["tags","status","numbers","paragraph","font","size","summary","cleanPunctuation","smartQuotes","stripBreaks","detectBreaks","matchBreaks"],"properties":{"tags":{"type":"array","default":[],"description":"Additional subject tags","items":{"type":"string","minLength":1}},"status":{"type":"string","default":"auto","description":"Story completion status","enum":["auto","complete","in-progress","hiatus","abandoned"]},"numbers":{"type":"string","default":"auto","description":"Chapter numbering mode","enum":["auto","on","off"]},"paragraph":{"type":"string","default":"space+indent","description":"Paragraph separation mode","enum":["space+indent","space","indent"]},"font":{"type":"string","default":"serif","description":"Font family to use for body text","enum":["serif","sans-serif"]},"size":{"type":"number","default":1,"description":"Scaling factor for body text"},"summary":{"type":"string","default":"","description":"Story sumary / description"},"cleanPunctuation":{"type":"boolean","default":true,"description":"Automatically clean up punctuation"},"smartQuotes":{"type":"boolean","default":true,"description":"Use smart quotes"},"stripBreaks":{"type":"boolean","default":false,"description":"Remove section breaks"},"detectBreaks":{"type":"boolean","default":true,"description":"Attempt to automatically detect textual section breaks"},"matchBreaks":{"type":"string","default":"","description":"Replace any matching paragraphs with a section break"}}},"misc":{"type":"object","default":{},"description":"Misc settings with no other logical home","required":["abandonAfter"],"properties":{"abandonAfter":{"type":"integer","default":31557600,"minimum":0,"description":"Number of seconds after which an in-progress story is considered abandoned"}}},"tweaks":{"type":"object","default":{},"description":"Various advanced controls","required":["delayFactor","backoff","pause","bucketSize","bucketRate","disable"],"properties":{"delayFactor":{"type":"number","default":0.05,"minimum":0,"description":"Delay factor to apply to resource fetching"},"maxDelay":{"type":"number","default":20,"minimum":0,"description":"Threshold beyond which the delay factor is considered an error"},"backoff":{"type":"number","default":1.5,"minimum":1,"description":"Backoff to apply to delay factor on 429 error"},"pause":{"type":"number","default":10,"minimum":0,"description":"How long to pause on 429 error"},"bucketSize":{"type":"number","default":20,"minimum":0,"description":"Burst bucket size"},"bucketRate":{"type":"number","default":2,"minimum":0,"description":"How fast the bucket refills (reqs/sec)"},"disable":{"type":"string","default":"","description":"Disable downloads, with the provided error message"},"warning":{"type":"string","default":"","description":"Display the provided warning message at idle-ready"},"gatherRecent":{"type":"integer","default":0,"description":"Gather metadata for recently published stories (0 to disable)"}}},"flags":{"type":"object","default":{},"description":"Feature flags (gatekeeper for development features)","required":["debugDetectBreaks"],"properties":{"debugDetectBreaks":{"$ref":"#/$defs/flag","default":false}}}}};const schema43 = {"type":"boolean"};const func0 = require("ajv/dist/runtime/equal").default;const func10 = require("ajv/dist/runtime/ucs2length").default;function validate30(data, {instancePath="", parentData, parentDataProperty, rootData=data, dynamicAnchors={}}={}){/*# sourceURL="settings" */;let vErrors = null;let errors = 0;const evaluated0 = validate30.evaluated;if(evaluated0.dynamicProps){evaluated0.props = undefined;}if(evaluated0.dynamicItems){evaluated0.items = undefined;}if(errors === 0){if(data && typeof data == "object" && !Array.isArray(data)){let missing0;if((((((((((((data.timestamp === undefined) && (missing0 = "timestamp")) || ((data.production === undefined) && (missing0 = "production"))) || ((data.id === undefined) && (missing0 = "id"))) || ((data.format === undefined) && (missing0 = "format"))) || ((data.archive === undefined) && (missing0 = "archive"))) || ((data.services === undefined) && (missing0 = "services"))) || ((data.cover === undefined) && (missing0 = "cover"))) || ((data.book === undefined) && (missing0 = "book"))) || ((data.misc === undefined) && (missing0 = "misc"))) || ((data.tweaks === undefined) && (missing0 = "tweaks"))) || ((data.flags === undefined) && (missing0 = "flags"))){validate30.errors = [{instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: missing0},message:"must have required property '"+missing0+"'"}];return false;}else {if(data.timestamp !== undefined){let data0 = data.timestamp;const _errs1 = errors;if(!(((typeof data0 == "number") && (!(data0 % 1) && !isNaN(data0))) && (isFinite(data0)))){validate30.errors = [{instancePath:instancePath+"/timestamp",schemaPath:"#/properties/timestamp/type",keyword:"type",params:{type: "integer"},message:"must be integer"}];return false;}var valid0 = _errs1 === errors;}else {var valid0 = true;}if(valid0){if(data.production !== undefined){const _errs3 = errors;if(typeof data.production !== "boolean"){validate30.errors = [{instancePath:instancePath+"/production",schemaPath:"#/properties/production/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid0 = _errs3 === errors;}else {var valid0 = true;}if(valid0){if(data.id !== undefined){const _errs5 = errors;if(typeof data.id !== "string"){validate30.errors = [{instancePath:instancePath+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid0 = _errs5 === errors;}else {var valid0 = true;}if(valid0){if(data.format !== undefined){let data3 = data.format;const _errs7 = errors;if(typeof data3 !== "string"){validate30.errors = [{instancePath:instancePath+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!((((((((((data3 === "epub") || (data3 === "mobi")) || (data3 === "pdf")) || (data3 === "md")) || (data3 === "txt")) || (data3 === "flb")) || (data3 === "docx")) || (data3 === "image")) || (data3 === "html")) || (data3 === "txt-tts"))){validate30.errors = [{instancePath:instancePath+"/format",schemaPath:"#/properties/format/enum",keyword:"enum",params:{allowedValues: schema42.properties.format.enum},message:"must be equal to one of the allowed values"}];return false;}var valid0 = _errs7 === errors;}else {var valid0 = true;}if(valid0){if(data.archive !== undefined){const _errs9 = errors;if(typeof data.archive !== "boolean"){validate30.errors = [{instancePath:instancePath+"/archive",schemaPath:"#/properties/archive/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid0 = _errs9 === errors;}else {var valid0 = true;}if(valid0){if(data.services !== undefined){let data5 = data.services;const _errs11 = errors;if(errors === _errs11){if(data5 && typeof data5 == "object" && !Array.isArray(data5)){let missing1;if((data5.transcode === undefined) && (missing1 = "transcode")){validate30.errors = [{instancePath:instancePath+"/services",schemaPath:"#/properties/services/required",keyword:"required",params:{missingProperty: missing1},message:"must have required property '"+missing1+"'"}];return false;}else {if(data5.transcode !== undefined){const _errs13 = errors;if(typeof data5.transcode !== "string"){validate30.errors = [{instancePath:instancePath+"/services/transcode",schemaPath:"#/properties/services/properties/transcode/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs13 === errors;}else {var valid1 = true;}if(valid1){if(data5.archive !== undefined){const _errs15 = errors;if(typeof data5.archive !== "string"){validate30.errors = [{instancePath:instancePath+"/services/archive",schemaPath:"#/properties/services/properties/archive/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid1 = _errs15 === errors;}else {var valid1 = true;}}}}else {validate30.errors = [{instancePath:instancePath+"/services",schemaPath:"#/properties/services/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid0 = _errs11 === errors;}else {var valid0 = true;}if(valid0){if(data.cover !== undefined){let data8 = data.cover;const _errs17 = errors;if(errors === _errs17){if(data8 && typeof data8 == "object" && !Array.isArray(data8)){let missing2;if((((((((data8.scheme === undefined) && (missing2 = "scheme")) || ((data8.crop === undefined) && (missing2 = "crop"))) || ((data8.dark === undefined) && (missing2 = "dark"))) || ((data8.logo === undefined) && (missing2 = "logo"))) || ((data8.title === undefined) && (missing2 = "title"))) || ((data8.enable === undefined) && (missing2 = "enable"))) || ((data8.custom === undefined) && (missing2 = "custom"))){validate30.errors = [{instancePath:instancePath+"/cover",schemaPath:"#/properties/cover/required",keyword:"required",params:{missingProperty: missing2},message:"must have required property '"+missing2+"'"}];return false;}else {if(data8.scheme !== undefined){let data9 = data8.scheme;const _errs19 = errors;if(typeof data9 !== "string"){validate30.errors = [{instancePath:instancePath+"/cover/scheme",schemaPath:"#/properties/cover/properties/scheme/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!((((((((((((data9 === "auto") || (data9 === "red")) || (data9 === "orange")) || (data9 === "yellow")) || (data9 === "green")) || (data9 === "blue")) || (data9 === "purple")) || (data9 === "pink")) || (data9 === "brown")) || (data9 === "grey")) || (data9 === "black")) || (data9 === "clear"))){validate30.errors = [{instancePath:instancePath+"/cover/scheme",schemaPath:"#/properties/cover/properties/scheme/enum",keyword:"enum",params:{allowedValues: schema42.properties.cover.properties.scheme.enum},message:"must be equal to one of the allowed values"}];return false;}var valid2 = _errs19 === errors;}else {var valid2 = true;}if(valid2){if(data8.crop !== undefined){let data10 = data8.crop;const _errs21 = errors;if(typeof data10 !== "string"){validate30.errors = [{instancePath:instancePath+"/cover/crop",schemaPath:"#/properties/cover/properties/crop/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!((((data10 === "auto") || (data10 === "on")) || (data10 === "off")) || (data10 === "fill"))){validate30.errors = [{instancePath:instancePath+"/cover/crop",schemaPath:"#/properties/cover/properties/crop/enum",keyword:"enum",params:{allowedValues: schema42.properties.cover.properties.crop.enum},message:"must be equal to one of the allowed values"}];return false;}var valid2 = _errs21 === errors;}else {var valid2 = true;}if(valid2){if(data8.dark !== undefined){const _errs23 = errors;if(typeof data8.dark !== "boolean"){validate30.errors = [{instancePath:instancePath+"/cover/dark",schemaPath:"#/properties/cover/properties/dark/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid2 = _errs23 === errors;}else {var valid2 = true;}if(valid2){if(data8.logo !== undefined){const _errs25 = errors;if(typeof data8.logo !== "boolean"){validate30.errors = [{instancePath:instancePath+"/cover/logo",schemaPath:"#/properties/cover/properties/logo/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid2 = _errs25 === errors;}else {var valid2 = true;}if(valid2){if(data8.title !== undefined){const _errs27 = errors;if(typeof data8.title !== "boolean"){validate30.errors = [{instancePath:instancePath+"/cover/title",schemaPath:"#/properties/cover/properties/title/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid2 = _errs27 === errors;}else {var valid2 = true;}if(valid2){if(data8.enable !== undefined){const _errs29 = errors;if(typeof data8.enable !== "boolean"){validate30.errors = [{instancePath:instancePath+"/cover/enable",schemaPath:"#/properties/cover/properties/enable/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid2 = _errs29 === errors;}else {var valid2 = true;}if(valid2){if(data8.custom !== undefined){const _errs31 = errors;if(typeof data8.custom !== "string"){validate30.errors = [{instancePath:instancePath+"/cover/custom",schemaPath:"#/properties/cover/properties/custom/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid2 = _errs31 === errors;}else {var valid2 = true;}}}}}}}}}else {validate30.errors = [{instancePath:instancePath+"/cover",schemaPath:"#/properties/cover/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid0 = _errs17 === errors;}else {var valid0 = true;}if(valid0){if(data.book !== undefined){let data16 = data.book;const _errs33 = errors;if(errors === _errs33){if(data16 && typeof data16 == "object" && !Array.isArray(data16)){let missing3;if(((((((((((((data16.tags === undefined) && (missing3 = "tags")) || ((data16.status === undefined) && (missing3 = "status"))) || ((data16.numbers === undefined) && (missing3 = "numbers"))) || ((data16.paragraph === undefined) && (missing3 = "paragraph"))) || ((data16.font === undefined) && (missing3 = "font"))) || ((data16.size === undefined) && (missing3 = "size"))) || ((data16.summary === undefined) && (missing3 = "summary"))) || ((data16.cleanPunctuation === undefined) && (missing3 = "cleanPunctuation"))) || ((data16.smartQuotes === undefined) && (missing3 = "smartQuotes"))) || ((data16.stripBreaks === undefined) && (missing3 = "stripBreaks"))) || ((data16.detectBreaks === undefined) && (missing3 = "detectBreaks"))) || ((data16.matchBreaks === undefined) && (missing3 = "matchBreaks"))){validate30.errors = [{instancePath:instancePath+"/book",schemaPath:"#/properties/book/required",keyword:"required",params:{missingProperty: missing3},message:"must have required property '"+missing3+"'"}];return false;}else {if(data16.tags !== undefined){let data17 = data16.tags;const _errs35 = errors;if(errors === _errs35){if(Array.isArray(data17)){var valid4 = true;const len0 = data17.length;for(let i0=0; i0<len0; i0++){let data18 = data17[i0];const _errs37 = errors;if(errors === _errs37){if(typeof data18 === "string"){if(func10(data18) < 1){validate30.errors = [{instancePath:instancePath+"/book/tags/" + i0,schemaPath:"#/properties/book/properties/tags/items/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"}];return false;}}else {validate30.errors = [{instancePath:instancePath+"/book/tags/" + i0,schemaPath:"#/properties/book/properties/tags/items/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}}var valid4 = _errs37 === errors;if(!valid4){break;}}}else {validate30.errors = [{instancePath:instancePath+"/book/tags",schemaPath:"#/properties/book/properties/tags/type",keyword:"type",params:{type: "array"},message:"must be array"}];return false;}}var valid3 = _errs35 === errors;}else {var valid3 = true;}if(valid3){if(data16.status !== undefined){let data19 = data16.status;const _errs39 = errors;if(typeof data19 !== "string"){validate30.errors = [{instancePath:instancePath+"/book/status",schemaPath:"#/properties/book/properties/status/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!(((((data19 === "auto") || (data19 === "complete")) || (data19 === "in-progress")) || (data19 === "hiatus")) || (data19 === "abandoned"))){validate30.errors = [{instancePath:instancePath+"/book/status",schemaPath:"#/properties/book/properties/status/enum",keyword:"enum",params:{allowedValues: schema42.properties.book.properties.status.enum},message:"must be equal to one of the allowed values"}];return false;}var valid3 = _errs39 === errors;}else {var valid3 = true;}if(valid3){if(data16.numbers !== undefined){let data20 = data16.numbers;const _errs41 = errors;if(typeof data20 !== "string"){validate30.errors = [{instancePath:instancePath+"/book/numbers",schemaPath:"#/properties/book/properties/numbers/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!(((data20 === "auto") || (data20 === "on")) || (data20 === "off"))){validate30.errors = [{instancePath:instancePath+"/book/numbers",schemaPath:"#/properties/book/properties/numbers/enum",keyword:"enum",params:{allowedValues: schema42.properties.book.properties.numbers.enum},message:"must be equal to one of the allowed values"}];return false;}var valid3 = _errs41 === errors;}else {var valid3 = true;}if(valid3){if(data16.paragraph !== undefined){let data21 = data16.paragraph;const _errs43 = errors;if(typeof data21 !== "string"){validate30.errors = [{instancePath:instancePath+"/book/paragraph",schemaPath:"#/properties/book/properties/paragraph/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!(((data21 === "space+indent") || (data21 === "space")) || (data21 === "indent"))){validate30.errors = [{instancePath:instancePath+"/book/paragraph",schemaPath:"#/properties/book/properties/paragraph/enum",keyword:"enum",params:{allowedValues: schema42.properties.book.properties.paragraph.enum},message:"must be equal to one of the allowed values"}];return false;}var valid3 = _errs43 === errors;}else {var valid3 = true;}if(valid3){if(data16.font !== undefined){let data22 = data16.font;const _errs45 = errors;if(typeof data22 !== "string"){validate30.errors = [{instancePath:instancePath+"/book/font",schemaPath:"#/properties/book/properties/font/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}if(!((data22 === "serif") || (data22 === "sans-serif"))){validate30.errors = [{instancePath:instancePath+"/book/font",schemaPath:"#/properties/book/properties/font/enum",keyword:"enum",params:{allowedValues: schema42.properties.book.properties.font.enum},message:"must be equal to one of the allowed values"}];return false;}var valid3 = _errs45 === errors;}else {var valid3 = true;}if(valid3){if(data16.size !== undefined){let data23 = data16.size;const _errs47 = errors;if(!((typeof data23 == "number") && (isFinite(data23)))){validate30.errors = [{instancePath:instancePath+"/book/size",schemaPath:"#/properties/book/properties/size/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}var valid3 = _errs47 === errors;}else {var valid3 = true;}if(valid3){if(data16.summary !== undefined){const _errs49 = errors;if(typeof data16.summary !== "string"){validate30.errors = [{instancePath:instancePath+"/book/summary",schemaPath:"#/properties/book/properties/summary/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid3 = _errs49 === errors;}else {var valid3 = true;}if(valid3){if(data16.cleanPunctuation !== undefined){const _errs51 = errors;if(typeof data16.cleanPunctuation !== "boolean"){validate30.errors = [{instancePath:instancePath+"/book/cleanPunctuation",schemaPath:"#/properties/book/properties/cleanPunctuation/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid3 = _errs51 === errors;}else {var valid3 = true;}if(valid3){if(data16.smartQuotes !== undefined){const _errs53 = errors;if(typeof data16.smartQuotes !== "boolean"){validate30.errors = [{instancePath:instancePath+"/book/smartQuotes",schemaPath:"#/properties/book/properties/smartQuotes/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid3 = _errs53 === errors;}else {var valid3 = true;}if(valid3){if(data16.stripBreaks !== undefined){const _errs55 = errors;if(typeof data16.stripBreaks !== "boolean"){validate30.errors = [{instancePath:instancePath+"/book/stripBreaks",schemaPath:"#/properties/book/properties/stripBreaks/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid3 = _errs55 === errors;}else {var valid3 = true;}if(valid3){if(data16.detectBreaks !== undefined){const _errs57 = errors;if(typeof data16.detectBreaks !== "boolean"){validate30.errors = [{instancePath:instancePath+"/book/detectBreaks",schemaPath:"#/properties/book/properties/detectBreaks/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}var valid3 = _errs57 === errors;}else {var valid3 = true;}if(valid3){if(data16.matchBreaks !== undefined){const _errs59 = errors;if(typeof data16.matchBreaks !== "string"){validate30.errors = [{instancePath:instancePath+"/book/matchBreaks",schemaPath:"#/properties/book/properties/matchBreaks/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid3 = _errs59 === errors;}else {var valid3 = true;}}}}}}}}}}}}}}else {validate30.errors = [{instancePath:instancePath+"/book",schemaPath:"#/properties/book/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid0 = _errs33 === errors;}else {var valid0 = true;}if(valid0){if(data.misc !== undefined){let data30 = data.misc;const _errs61 = errors;if(errors === _errs61){if(data30 && typeof data30 == "object" && !Array.isArray(data30)){let missing4;if((data30.abandonAfter === undefined) && (missing4 = "abandonAfter")){validate30.errors = [{instancePath:instancePath+"/misc",schemaPath:"#/properties/misc/required",keyword:"required",params:{missingProperty: missing4},message:"must have required property '"+missing4+"'"}];return false;}else {if(data30.abandonAfter !== undefined){let data31 = data30.abandonAfter;const _errs63 = errors;if(!(((typeof data31 == "number") && (!(data31 % 1) && !isNaN(data31))) && (isFinite(data31)))){validate30.errors = [{instancePath:instancePath+"/misc/abandonAfter",schemaPath:"#/properties/misc/properties/abandonAfter/type",keyword:"type",params:{type: "integer"},message:"must be integer"}];return false;}if(errors === _errs63){if((typeof data31 == "number") && (isFinite(data31))){if(data31 < 0 || isNaN(data31)){validate30.errors = [{instancePath:instancePath+"/misc/abandonAfter",schemaPath:"#/properties/misc/properties/abandonAfter/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"}];return false;}}}}}}else {validate30.errors = [{instancePath:instancePath+"/misc",schemaPath:"#/properties/misc/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid0 = _errs61 === errors;}else {var valid0 = true;}if(valid0){if(data.tweaks !== undefined){let data32 = data.tweaks;const _errs65 = errors;if(errors === _errs65){if(data32 && typeof data32 == "object" && !Array.isArray(data32)){let missing5;if(((((((data32.delayFactor === undefined) && (missing5 = "delayFactor")) || ((data32.backoff === undefined) && (missing5 = "backoff"))) || ((data32.pause === undefined) && (missing5 = "pause"))) || ((data32.bucketSize === undefined) && (missing5 = "bucketSize"))) || ((data32.bucketRate === undefined) && (missing5 = "bucketRate"))) || ((data32.disable === undefined) && (missing5 = "disable"))){validate30.errors = [{instancePath:instancePath+"/tweaks",schemaPath:"#/properties/tweaks/required",keyword:"required",params:{missingProperty: missing5},message:"must have required property '"+missing5+"'"}];return false;}else {if(data32.delayFactor !== undefined){let data33 = data32.delayFactor;const _errs67 = errors;if(errors === _errs67){if((typeof data33 == "number") && (isFinite(data33))){if(data33 < 0 || isNaN(data33)){validate30.errors = [{instancePath:instancePath+"/tweaks/delayFactor",schemaPath:"#/properties/tweaks/properties/delayFactor/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"}];return false;}}else {validate30.errors = [{instancePath:instancePath+"/tweaks/delayFactor",schemaPath:"#/properties/tweaks/properties/delayFactor/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}}var valid6 = _errs67 === errors;}else {var valid6 = true;}if(valid6){if(data32.maxDelay !== undefined){let data34 = data32.maxDelay;const _errs69 = errors;if(errors === _errs69){if((typeof data34 == "number") && (isFinite(data34))){if(data34 < 0 || isNaN(data34)){validate30.errors = [{instancePath:instancePath+"/tweaks/maxDelay",schemaPath:"#/properties/tweaks/properties/maxDelay/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"}];return false;}}else {validate30.errors = [{instancePath:instancePath+"/tweaks/maxDelay",schemaPath:"#/properties/tweaks/properties/maxDelay/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}}var valid6 = _errs69 === errors;}else {var valid6 = true;}if(valid6){if(data32.backoff !== undefined){let data35 = data32.backoff;const _errs71 = errors;if(errors === _errs71){if((typeof data35 == "number") && (isFinite(data35))){if(data35 < 1 || isNaN(data35)){validate30.errors = [{instancePath:instancePath+"/tweaks/backoff",schemaPath:"#/properties/tweaks/properties/backoff/minimum",keyword:"minimum",params:{comparison: ">=", limit: 1},message:"must be >= 1"}];return false;}}else {validate30.errors = [{instancePath:instancePath+"/tweaks/backoff",schemaPath:"#/properties/tweaks/properties/backoff/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}}var valid6 = _errs71 === errors;}else {var valid6 = true;}if(valid6){if(data32.pause !== undefined){let data36 = data32.pause;const _errs73 = errors;if(errors === _errs73){if((typeof data36 == "number") && (isFinite(data36))){if(data36 < 0 || isNaN(data36)){validate30.errors = [{instancePath:instancePath+"/tweaks/pause",schemaPath:"#/properties/tweaks/properties/pause/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"}];return false;}}else {validate30.errors = [{instancePath:instancePath+"/tweaks/pause",schemaPath:"#/properties/tweaks/properties/pause/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}}var valid6 = _errs73 === errors;}else {var valid6 = true;}if(valid6){if(data32.bucketSize !== undefined){let data37 = data32.bucketSize;const _errs75 = errors;if(errors === _errs75){if((typeof data37 == "number") && (isFinite(data37))){if(data37 < 0 || isNaN(data37)){validate30.errors = [{instancePath:instancePath+"/tweaks/bucketSize",schemaPath:"#/properties/tweaks/properties/bucketSize/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"}];return false;}}else {validate30.errors = [{instancePath:instancePath+"/tweaks/bucketSize",schemaPath:"#/properties/tweaks/properties/bucketSize/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}}var valid6 = _errs75 === errors;}else {var valid6 = true;}if(valid6){if(data32.bucketRate !== undefined){let data38 = data32.bucketRate;const _errs77 = errors;if(errors === _errs77){if((typeof data38 == "number") && (isFinite(data38))){if(data38 < 0 || isNaN(data38)){validate30.errors = [{instancePath:instancePath+"/tweaks/bucketRate",schemaPath:"#/properties/tweaks/properties/bucketRate/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"}];return false;}}else {validate30.errors = [{instancePath:instancePath+"/tweaks/bucketRate",schemaPath:"#/properties/tweaks/properties/bucketRate/type",keyword:"type",params:{type: "number"},message:"must be number"}];return false;}}var valid6 = _errs77 === errors;}else {var valid6 = true;}if(valid6){if(data32.disable !== undefined){const _errs79 = errors;if(typeof data32.disable !== "string"){validate30.errors = [{instancePath:instancePath+"/tweaks/disable",schemaPath:"#/properties/tweaks/properties/disable/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid6 = _errs79 === errors;}else {var valid6 = true;}if(valid6){if(data32.warning !== undefined){const _errs81 = errors;if(typeof data32.warning !== "string"){validate30.errors = [{instancePath:instancePath+"/tweaks/warning",schemaPath:"#/properties/tweaks/properties/warning/type",keyword:"type",params:{type: "string"},message:"must be string"}];return false;}var valid6 = _errs81 === errors;}else {var valid6 = true;}if(valid6){if(data32.gatherRecent !== undefined){let data41 = data32.gatherRecent;const _errs83 = errors;if(!(((typeof data41 == "number") && (!(data41 % 1) && !isNaN(data41))) && (isFinite(data41)))){validate30.errors = [{instancePath:instancePath+"/tweaks/gatherRecent",schemaPath:"#/properties/tweaks/properties/gatherRecent/type",keyword:"type",params:{type: "integer"},message:"must be integer"}];return false;}var valid6 = _errs83 === errors;}else {var valid6 = true;}}}}}}}}}}}else {validate30.errors = [{instancePath:instancePath+"/tweaks",schemaPath:"#/properties/tweaks/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid0 = _errs65 === errors;}else {var valid0 = true;}if(valid0){if(data.flags !== undefined){let data42 = data.flags;const _errs85 = errors;if(errors === _errs85){if(data42 && typeof data42 == "object" && !Array.isArray(data42)){let missing6;if((data42.debugDetectBreaks === undefined) && (missing6 = "debugDetectBreaks")){validate30.errors = [{instancePath:instancePath+"/flags",schemaPath:"#/properties/flags/required",keyword:"required",params:{missingProperty: missing6},message:"must have required property '"+missing6+"'"}];return false;}else {if(data42.debugDetectBreaks !== undefined){if(typeof data42.debugDetectBreaks !== "boolean"){validate30.errors = [{instancePath:instancePath+"/flags/debugDetectBreaks",schemaPath:"#/$defs/flag/type",keyword:"type",params:{type: "boolean"},message:"must be boolean"}];return false;}}}}else {validate30.errors = [{instancePath:instancePath+"/flags",schemaPath:"#/properties/flags/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}var valid0 = _errs85 === errors;}else {var valid0 = true;}}}}}}}}}}}}}else {validate30.errors = [{instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"}];return false;}}validate30.errors = vErrors;return errors === 0;}validate30.evaluated = {"props":{"timestamp":true,"production":true,"id":true,"format":true,"archive":true,"services":true,"cover":true,"book":true,"misc":true,"tweaks":true,"flags":true},"dynamicProps":false,"dynamicItems":false};